<html>
    <head>
      <!--<meta name="google-site-verification" content="Z7SEnQaO9LAITbhuwGaI3rFtnpMRKeV9BbaW3LyvP2g" />-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="revised" content="13 December 2021" />
        <title>Reproduce results from Uchikoshi and Mugiyama (2020)</title>

        <link rel="stylesheet" href="https://latex.now.sh/style.css"> 
        <link rel="stylesheet" href="https://alanintsukuba.github.io/ShowReferencesModal.css"> 
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" 
integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" 
integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]-->    
</head>
<body>
<h1>Reproduce results from Uchikoshi and Mugiyama (2020)</h1>
<p class="author"><a href="https://orcid.org/0000-0003-0070-2347" target="_blank">Alan Engel</a><br>Last update: 
13 December 2021</p>
<main>
  <p>The task reproduces the main results of Uchikoshi and Mugiyama (2020) [UM2020] using the occupational crosswalk 
    developed above. The left panel of Figure 1 of UM2020 shows the dissimilarity index produced by their crosswalk for census years 1980 
    through 2005. The right panel shows the relative change with 1980 as the reference. The figure below shows the 
    corresponding graphs from this project's crosswalk covering 1985 to 2005. UM2020 uses a 0-100 dissimilarity scale; 
    in this task, I use a 0-1 scale. While the numberical output varies slightly, 
    probably due to small differences in crosswalks, the trends are close to identical.
  </p>
  <figure>
    <img src="images/UMDissimilarity01.png"
          loading="lazy" alt="Dissimilarity Index 1985-2005" width="600" height="500" />
        <figcaption>Dissimilarity Index 1985-2005</figcaption>
</figure>
<pre><code class="language-html">#' ReproduceUMResults.R
  #' Use data from UchikoshiMugiyamaRepro01.R in decomposition
  #' following script in UMDissimilarity.R and functions in 
  #' dissimilarity_um.R
  #' @references
  #' [UM2020] Uchikoshi, Fumiya, Ryota Mugiyama. (2020) Trends in Occupational Sex Segregation in Japan: 
  #'         A Decomposition Analysis of Census Data, 1980-2005. 
  #'       Japanese Journal of Population Studies. 2020. 56. 9-23 
  #' [Elbers] Benjamin Elbers. 2021. A Method for Studying Differences in
  #'   Segregation Across Time and Space Sociological Methods & Research.
  #'   doi: 10.1177/0049124121986204
  
  library(segregation)
  library(data.table)
  source("Scripts/dissimilarity_um.R")
  
  # use 1985 occupation statistics with occupational crosswalk
  # make data.table copy
  d85 <- as.data.table(occgenall[occgenall$CensusYear == "1985",c("OccMinor","Gender","value")])
  head(d85)
  
  # start with Elbers dissimilarity function
  segregation::dissimilarity(d85, "Gender","OccMinor", weight="value")
  #    stat       est
  # 1:    D 0.5121397
  
  # then with UM2020 dissimilarity
  ggj.dissimilarity_all(d85, "Gender","OccMinor", weight="value")
  #    stat       est
  # 1:    D 0.5121397
  
  # do remaining years
  d90  <- as.data.table(occgenall[occgenall$CensusYear == "1990",c("OccMinor","Gender","value")])
  d95  <- as.data.table(occgenall[occgenall$CensusYear == "1995",c("OccMinor","Gender","value")])
  d00  <- as.data.table(occgenall[occgenall$CensusYear == "2000",c("OccMinor","Gender","value")])
  d05  <- as.data.table(occgenall[occgenall$CensusYear == "2005",c("OccMinor","Gender","value")])
  
  # put in data table for plotting as in figure 1 of UM2020
  di_um <- data.table( CensusYear = c(1985,1990,1995,2000,2005),
  DI = c(ggj.dissimilarity_all(d85, "Gender","OccMinor", weight="value")[,"est"],
  ggj.dissimilarity_all(d90, "Gender","OccMinor", weight="value")[,"est"],
  ggj.dissimilarity_all(d95, "Gender","OccMinor", weight="value")[,"est"],
  ggj.dissimilarity_all(d00, "Gender","OccMinor", weight="value")[,"est"],
  ggj.dissimilarity_all(d05, "Gender","OccMinor", weight="value")[,"est"]) )
  
  di_um$Change <- as.numeric(di_um$DI ) / as.numeric(di_um[1,2][[1]])
  
  windows(11,5)
  par(mfrow=c(1,2))
  with(di_um, plot(CensusYear, DI, ylim=c(0,0.60), type="b",
    main="Dissimilarity Index", ylab=""))
  with(di_um, text(CensusYear, DI, labels=round(as.numeric(di_um$DI ),4), 
    pos=3,cex=0.7))
  with(di_um, plot(CensusYear, Change, ylim=c(0.85,1.15), type="b",
    main="Change versus 1985", ylab=""))
  with(di_um, text(CensusYear, Change, labels=round(as.numeric(di_um$Change ),3), 
    pos=3,cex=0.7))</code></pre>
</main>
<div id="references" class="section level2">
    <h2 class="hasAnchor">
    <a href="#references" class="anchor"></a>References</h2>
    <p>Uchikoshi, Fumiya, Ryota Mugiyama. (2020) Trends in Occupational Sex Segregation in Japan: 
        A Decomposition Analysis of Census Data, 1980-2005. 
      Japanese Journal of Population Studies. 2020. 56. 9-23 
      <a href="https://doi.org/10.24454/jps.1901001" class="uri">https://doi.org/10.24454/jps.1901001</a></p>
</div>
</body>
</html>